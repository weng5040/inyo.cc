# å»¶è¿Ÿæ£€æµ‹ URL
providers: &p-url-providers
  type: http
  # è‡ªåŠ¨æ›´æ–°è®¢é˜…æ—¶é—´ï¼Œå•ä½ä¸ºç§’
  interval: 4620 #77åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡
  health-check:
    enable: true
    url: https://www.gstatic.com/generate_204
    # èŠ‚ç‚¹è¿é€šæ€§æ£€æµ‹æ—¶é—´ï¼Œå•ä½ä¸ºç§’
    interval: 300
    # èŠ‚ç‚¹è¶…æ—¶å»¶è¿Ÿï¼Œå•ä½ä¸ºæ¯«ç§’
    timeout: 1000
    # èŠ‚ç‚¹è‡ªåŠ¨åˆ‡æ¢å·®å€¼ï¼Œå•ä½ä¸ºæ¯«ç§’
    tolerance: 100
  proxy: DIRECT

# æœºåœºè®¢é˜…
proxy-providers:
  INYO:  # æœºåœºåç§°
    <<: *p-url-providers
    url: "https://s.inyo.cc:10905/s/default/9426b7d1b294b81b4e8144a21bf2983c" # æœºåœºè®¢é˜…é“¾æ¥

# èŠ‚ç‚¹ä¿¡æ¯
proxies:
# vless://0e5d92c1-4402-4b6f-8652-744e6d6fec81@s.inyo.cc:35339?encryption=none&security=tls&fp=chrome&type=tcp&host=s.inyo.cc&headerType=none&sni=s.inyo.cc&flow=xtls-rprx-vision#0e5d92c1-VLESS_TCP/TLS_Vision
  - name: "ali-Singapore"   # è‡ªå®šä¹‰åç§°ï¼Œå¯ä»¥ä»»æ„å‘½å
    type: vless                  # è¿æ¥ç±»å‹ä¸º vless
    server: s.inyo.cc            # æœåŠ¡å™¨åœ°å€ï¼Œæ¥è‡ªé“¾æ¥ä¸­çš„ host å­—æ®µ
    port: 35339                  # æœåŠ¡å™¨ç«¯å£ï¼Œä»é“¾æ¥ä¸­æå–
    uuid: 0e5d92c1-4402-4b6f-8652-744e6d6fec81  # ç”¨æˆ·å”¯ä¸€æ ‡è¯†ç¬¦ (UUID) ï¼Œé“¾æ¥ä¸­æŒ‡å®š
    network: tcp               # ä½¿ç”¨ TCP ä¼ è¾“åè®®ï¼ˆæ ¹æ®é“¾æ¥ä¸­çš„ type=tcpï¼‰
    tls: true                  # å¯ç”¨ TLS å®‰å…¨ä¼ è¾“ï¼ˆå¯¹åº”é“¾æ¥ä¸­çš„ security=tlsï¼‰
    udp: true                  # å¯ç”¨ UDP æ”¯æŒï¼ˆvless-vision æ¨¡å¼ä¸‹é€šå¸¸å¯ç”¨ï¼Œå¦‚æœ‰éœ€è¦å¯è°ƒæ•´ï¼‰
    flow: xtls-rprx-vision     # XTLS æµæ§æ¨¡å¼ï¼Œé‡‡ç”¨ xtls-rprx-visionï¼ˆæ¥è‡ªé“¾æ¥ä¸­çš„ flow å‚æ•°ï¼‰
    client-fingerprint: chrome # æ¨¡æ‹Ÿå®¢æˆ·ç«¯æŒ‡çº¹ï¼Œè®¾ç½®ä¸º chromeï¼ˆé“¾æ¥ä¸­çš„ fp=chromeï¼‰
    servername: s.inyo.cc       # TLS SNIï¼ˆæœåŠ¡å™¨åç§°æŒ‡ç¤ºï¼‰ï¼Œä¸ sni å‚æ•°ä¸€è‡´

##å…¨å±€é…ç½®
log-level: info  # æ—¥å¿—ç­‰çº§ silent/error/warning/info/debug
mode: rule # é»˜è®¤æ¨¡å¼ï¼Œè§„åˆ™æ¨¡å¼
find-process-mode: strict # è¿›ç¨‹åŒ¹é…æ¨¡å¼
# interface-name: en0 # è®¾ç½®å‡ºå£ç½‘å¡
bind-address: "*" # ç»‘å®š IP åœ°å€ï¼Œä»…ä½œç”¨äº allow-lan ä¸º trueï¼Œ'*'è¡¨ç¤ºæ‰€æœ‰åœ°å€
ipv6: false # å¼€å¯ IPv6 æ€»å¼€å…³ï¼Œå…³é—­é˜»æ–­æ‰€æœ‰ IPv6 é“¾æ¥å’Œå±è”½ DNS è¯·æ±‚ AAAA è®°å½•

##å¤–éƒ¨æ§åˆ¶é…ç½®
external-controller: 0.0.0.0:9090
secret: ""
external-ui: "/etc/mihomo/run/ui"
external-ui-name: zashboard
external-ui-url: "https://github.inyo.cc/https://github.com/Zephyruso/zashboard/archive/refs/heads/gh-pages.zip"



## å…¥ç«™é…ç½®
allow-lan: true   # å…è®¸å±€åŸŸç½‘è¿æ¥
port: 7890        # HTTP(S) ä»£ç†æœåŠ¡å™¨ç«¯å£
socks-port: 7893  # SOCKS5 ä»£ç†ç«¯å£
mixed-port: 7894  # HTTP(S) å’Œ SOCKS ä»£ç†æ··åˆç«¯å£
redir-port: 7891  # é€æ˜ä»£ç†ç«¯å£ï¼Œç”¨äº Linux å’Œ MacOS
tproxy-port: 7892 # TPROXY ç«¯å£
#authentication:  # http,socks å…¥å£çš„éªŒè¯ç”¨æˆ·åï¼Œå¯†ç 
#  - "username:password"

tcp-concurrent: true # TCP å¹¶å‘è¿æ¥æ‰€æœ‰ IP, å°†ä½¿ç”¨æœ€å¿«æ¡æ‰‹çš„ TCP
keep-alive-idle: 600 # TCP é“¾æ¥çš„ç©ºé—²æ—¶é—´ï¼Œå•ä½ï¼šç§’
keep-alive-interval: 15 # TCP é“¾æ¥çš„æ¢æ´»æ—¶é—´ï¼Œå•ä½ï¼šç§’
disable-keep-alive: false # æ˜¯å¦å…³é—­é•¿è¿æ¥

profile:  # é…ç½®æ–‡ä»¶
  store-selected: true  # ä¿å­˜é€‰ä¸­çš„èŠ‚ç‚¹
  store-fake-ip: true # ä¿å­˜ä¼ªè£… IP
unified-delay: true  # å¯ç”¨ç»Ÿä¸€å»¶è¿Ÿï¼Œä¼˜åŒ–ä¸åŒåè®®é—´çš„å»¶è¿Ÿå¤„ç†
global-client-fingerprint: chrome  # è®¾ç½®å…¨å±€å®¢æˆ·ç«¯æŒ‡çº¹ä¸º Chromeï¼Œæ¨¡æ‹Ÿæµè§ˆå™¨èº«ä»½

# Tun é…ç½®
tun:
  enable: true
  stack: mixed # gvisor/mixed

## å—…æ¢åŸŸå
sniffer:
  enable: true
  ## å¯¹ redir-host ç±»å‹è¯†åˆ«çš„æµé‡è¿›è¡Œå¼ºåˆ¶å—…æ¢
  ## å¦‚ï¼šTunã€Redir å’Œ TProxy å¹¶ DNS ä¸º redir-host çš†å±äº
  force-dns-mapping: true
  ## å¯¹æ‰€æœ‰æœªè·å–åˆ°åŸŸåçš„æµé‡è¿›è¡Œå¼ºåˆ¶å—…æ¢
  parse-pure-ip: true
  # æ˜¯å¦ä½¿ç”¨å—…æ¢ç»“æœä½œä¸ºå®é™…è®¿é—®ï¼Œé»˜è®¤ true
  # å…¨å±€é…ç½®ï¼Œä¼˜å…ˆçº§ä½äº sniffer.sniff å®é™…é…ç½®
  override-destination: true
  sniff:  # å®šä¹‰å—…æ¢çš„åè®®å’Œç«¯å£
    HTTP:  # HTTP æµé‡å—…æ¢é…ç½®
      ports: [80, 8080-8880]  # å—…æ¢è¿™äº›ç«¯å£ä¸Šçš„ HTTP æµé‡
      override-destination: true  # åœ¨å—…æ¢æ—¶è¦†ç›–ç›®æ ‡åœ°å€è¿›è¡Œå¤„ç†
    TLS:  # TLS æµé‡å—…æ¢é…ç½®
      ports: [443, 8443]  # å—…æ¢è¿™äº›ç«¯å£ä¸Šçš„ TLS æµé‡
    QUIC:  # QUIC æµé‡å—…æ¢é…ç½®
      ports: [443, 8443]  # å—…æ¢è¿™äº›ç«¯å£ä¸Šçš„ QUIC æµé‡
  skip-domain:  # åˆ—å‡ºä¸è¿›è¡Œå—…æ¢çš„åŸŸå
    - "Mijia Cloud"  # ä¸å—…æ¢è¯¥åŸŸåçš„æµé‡
    - "dlg.io.mi.com"  # ä¸å—…æ¢è¯¥åŸŸåçš„æµé‡
    - "+.push.apple.com"  # ä¸å—…æ¢ä»¥ .push.apple.com ç»“å°¾çš„æµé‡
    - "+.apple.com"  # ä¸å—…æ¢ä»¥ .apple.com ç»“å°¾çš„æµé‡
  # skip-src-address: # å¯¹äºæ¥æºipè·³è¿‡å—…æ¢
  #   - 192.168.0.3/32
  # skip-dst-address: # å¯¹äºç›®æ ‡ipè·³è¿‡å—…æ¢
  #   - 192.168.0.3/32
  ## å¯¹å—…æ¢ç»“æœè¿›è¡Œè·³è¿‡
  # skip-domain:
  #   - Mijia Cloud

# DNS é…ç½®
dns:
  listen: '[::]:1053' # å¼€å¯ DNS æœåŠ¡å™¨ç›‘å¬
  #cache-algorithm: arc  # ç¼“å­˜ç®—æ³•ï¼Œarc/lru/mru
  #enable: false # å…³é—­å°†ä½¿ç”¨ç³»ç»Ÿ DNS
  #prefer-h3: false # æ˜¯å¦å¼€å¯ DoH æ”¯æŒ HTTP/3ï¼Œå°†å¹¶å‘å°è¯•
  ipv6: false # false å°†è¿”å› AAAA çš„ç©ºç»“æœ
  # ipv6-timeout: 300 # å•ä½ï¼šmsï¼Œå†…éƒ¨åŒæ ˆå¹¶å‘æ—¶ï¼Œå‘ä¸Šæ¸¸æŸ¥è¯¢ AAAA æ—¶ï¼Œç­‰å¾… AAAA çš„æ—¶é—´ï¼Œé»˜è®¤ 100ms
  # ç”¨äºè§£æ nameserverï¼Œfallback ä»¥åŠå…¶ä»– DNS æœåŠ¡å™¨é…ç½®çš„ï¼ŒDNS æœåŠ¡åŸŸå
  # åªèƒ½ä½¿ç”¨çº¯ IP åœ°å€ï¼Œå¯ä½¿ç”¨åŠ å¯† DNS

  enhanced-mode: fake-ip # or redir-host
  fake-ip-range: 10.7.0.1/16 # fake-ip æ± è®¾ç½®
  # é…ç½®ä¸ä½¿ç”¨ fake-ip çš„åŸŸå
  fake-ip-filter:
    - '*.lan'
    - localhost.ptlogin2.qq.com
    # fakeip-filter ä¸º rule-providers ä¸­çš„åä¸º fakeip-filter è§„åˆ™è®¢é˜…ï¼Œ
    # ä¸” behavior å¿…é¡»ä¸º domain/classicalï¼Œå½“ä¸º classical æ—¶ä»…ä¼šç”Ÿæ•ˆåŸŸåç±»è§„åˆ™
    # fakeip-filter ä¸º geosite ä¸­åä¸º fakeip-filter çš„åˆ†ç±»ï¼ˆéœ€è¦è‡ªè¡Œä¿è¯è¯¥åˆ†ç±»å­˜åœ¨ï¼‰
    - "*.lan"
    - "*.localdomain"
    - "*.example"
    - "*.invalid"
    - "*.localhost"
    - "*.test"
    - "*.local"
    - "*.home.arpa"
    - "*.cn"
    - "*.com.cn"
    - time.*.com
    - time.*.gov
    - time.*.edu.cn
    - time.*.apple.com
    - time-ios.apple.com
    - time1.*.com
    - time2.*.com
    - time3.*.com
    - time4.*.com
    - time5.*.com
    - time6.*.com
    - time7.*.com
    - ntp.*.com
    - ntp1.*.com
    - ntp2.*.com
    - ntp3.*.com
    - ntp4.*.com
    - ntp5.*.com
    - ntp6.*.com
    - ntp7.*.com
    - "*.time.edu.cn"
    - "*.ntp.org.cn"
    - "+.pool.ntp.org"
    - time1.cloud.tencent.com
    - music.163.com
    - "*.music.163.com"
    - "*.126.net"
    - musicapi.taihe.com
    - music.taihe.com
    - songsearch.kugou.com
    - trackercdn.kugou.com
    - "*.kuwo.cn"
    - api-jooxtt.sanook.com
    - api.joox.com
    - joox.com
    - y.qq.com
    - "*.y.qq.com"
    - streamoc.music.tc.qq.com
    - mobileoc.music.tc.qq.com
    - isure.stream.qqmusic.qq.com
    - dl.stream.qqmusic.qq.com
    - aqqmusic.tc.qq.com
    - amobile.music.tc.qq.com
    - "*.xiami.com"
    - "*.music.migu.cn"
    - music.migu.cn
    - "+.msftconnecttest.com"
    - "+.msftncsi.com"
    - localhost.ptlogin2.qq.com
    - localhost.sec.qq.com
    - "+.qq.com"
    - "+.tencent.com"
    - "+.srv.nintendo.net"
    - "*.n.n.srv.nintendo.net"
    - "+.cdn.nintendo.net"
    - "+.stun.playstation.net"
    - xbox.*.*.microsoft.com
    - "*.*.xboxlive.com"
    - xbox.*.microsoft.com
    - xnotify.xboxlive.com
    - "+.battlenet.com.cn"
    - "+.wotgame.cn"
    - "+.wggames.cn"
    - "+.wowsgame.cn"
    - "+.wargaming.net"
    - proxy.golang.org
    - stun.*.*
    - stun.*.*.*
    - "+.stun.*.*"
    - "+.stun.*.*.*"
    - "+.stun.*.*.*.*"
    - "+.stun.*.*.*.*.*"
    - heartbeat.belkin.com
    - "*.linksys.com"
    - "*.linksyssmartwifi.com"
    - "*.router.asus.com"
    - mesu.apple.com
    - swscan.apple.com
    - swquery.apple.com
    - swdownload.apple.com
    - swcdn.apple.com
    - swdist.apple.com
    - lens.l.google.com
    - stun.l.google.com
    - na.b.g-tun.com
    - "+.nflxvideo.net"
    - "*.square-enix.com"
    - "*.finalfantasyxiv.com"
    - "*.ffxiv.com"
    - "*.ff14.sdo.com"
    - ff.dorado.sdo.com
    - "*.mcdn.bilivideo.cn"
    - "+.media.dssott.com"
    - shark007.net
    - Mijia Cloud
    - "+.cmbchina.com"
    - "+.cmbimg.com"
    - local.adguard.org
    - "+.sandai.net"
    - "+.n0808.com"
    - "+.uu.163.com"
    - ps.res.netease.com
    - "+.pub.3gppnetwork.org"
    - geosite:cn
    - geosite:geolocation-cn
    - geosite:category-games
    - geosite:apple-cn
    - geosite:google-cn
    - "+.inyo.cc"
  # é…ç½®fake-ip-filterçš„åŒ¹é…æ¨¡å¼ï¼Œé»˜è®¤ä¸ºblacklistï¼Œå³å¦‚æœåŒ¹é…æˆåŠŸä¸è¿”å›fake-ip
  # å¯è®¾ç½®ä¸ºwhitelistï¼Œå³åªæœ‰åŒ¹é…æˆåŠŸæ‰è¿”å›fake-ip
  fake-ip-filter-mode: blacklist

  # use-hosts: true # æŸ¥è¯¢ hosts
  #default-nameserver:
  #  - 114.114.114.114
  #  - 8.8.8.8
  #  - tls://1.12.12.12:853
  #  - tls://223.5.5.5:853
  #  - system # append DNS server from system configuration. If not found, it would print an error log and skip.

  # é…ç½®åé¢çš„nameserverã€fallbackå’Œnameserver-policyå‘dnsæœåŠ¡å™¨çš„è¿æ¥è¿‡ç¨‹æ˜¯å¦éµå®ˆéµå®ˆrulesè§„åˆ™
  # å¦‚æœä¸ºfalseï¼ˆé»˜è®¤å€¼ï¼‰åˆ™è¿™ä¸‰éƒ¨åˆ†çš„dnsæœåŠ¡å™¨åœ¨æœªç‰¹åˆ«æŒ‡å®šçš„æƒ…å†µä¸‹ä¼šç›´è¿
  # å¦‚æœä¸ºtrueï¼Œå°†ä¼šæŒ‰ç…§rulesçš„è§„åˆ™åŒ¹é…é“¾æ¥æ–¹å¼ï¼ˆèµ°ä»£ç†æˆ–ç›´è¿ï¼‰ï¼Œå¦‚æœæœ‰ç‰¹åˆ«æŒ‡å®šåˆ™ä»»ç„¶ä»¥æŒ‡å®šå€¼ä¸ºå‡†
  # ä»…å½“proxy-server-nameserveréç©ºæ—¶å¯ä»¥å¼€å¯æ­¤é€‰é¡¹, å¼ºçƒˆä¸å»ºè®®å’Œprefer-h3ä¸€èµ·ä½¿ç”¨
  # æ­¤å¤–ï¼Œè¿™ä¸‰è€…é…ç½®ä¸­çš„dnsæœåŠ¡å™¨å¦‚æœå‡ºç°åŸŸåä¼šé‡‡ç”¨default-nameserveré…ç½®é¡¹è§£æï¼Œä¹Ÿè¯·ç¡®ä¿æ­£ç¡®é…ç½®default-nameserver
  respect-rules: true

  # DNS ä¸»è¦åŸŸåé…ç½®
  # æ”¯æŒ UDPï¼ŒTCPï¼ŒDoTï¼ŒDoHï¼ŒDoQ
  # è¿™éƒ¨åˆ†ä¸ºä¸»è¦ DNS é…ç½®ï¼Œå½±å“æ‰€æœ‰ç›´è¿ï¼Œç¡®ä¿ä½¿ç”¨å¯¹å¤§é™†è§£æç²¾å‡†çš„ DNS
  nameserver:
    - system # ä½¿ç”¨ç³»ç»Ÿ DNS é…ç½®
  #  - 114.114.114.114 # default value
  #  - 8.8.8.8 # default value
  #  - tls://223.5.5.5:853 # DNS over TLS
  #  - https://doh.pub/dns-query # DNS over HTTPS
  #  - https://dns.alidns.com/dns-query#h3=true # å¼ºåˆ¶ HTTP/3ï¼Œä¸ perfer-h3 æ— å…³ï¼Œå¼ºåˆ¶å¼€å¯ DoH çš„ HTTP/3 æ”¯æŒï¼Œè‹¥ä¸æ”¯æŒå°†æ— æ³•ä½¿ç”¨
  #  - https://mozilla.cloudflare-dns.com/dns-query#DNS&h3=true # æŒ‡å®šç­–ç•¥ç»„å’Œä½¿ç”¨ HTTP/3
  #  - dhcp://en0 # dns from dhcp
  #  - quic://dns.adguard.com:784 # DNS over QUIC
    # - '8.8.8.8#RULES' # æ•ˆæœåŒrespect-rulesï¼Œä½†ä»…å¯¹è¯¥æœåŠ¡å™¨ç”Ÿæ•ˆ
    # - '8.8.8.8#en0' # å…¼å®¹æŒ‡å®š DNS å‡ºå£ç½‘å¡

  # å½“é…ç½® fallback æ—¶ï¼Œä¼šæŸ¥è¯¢ nameserver ä¸­è¿”å›çš„ IP æ˜¯å¦ä¸º CNï¼Œéå¿…è¦é…ç½®
  # å½“ä¸æ˜¯ CNï¼Œåˆ™ä½¿ç”¨ fallback ä¸­çš„ DNS æŸ¥è¯¢ç»“æœ
  # ç¡®ä¿é…ç½® fallback æ—¶èƒ½å¤Ÿæ­£å¸¸æŸ¥è¯¢
  # fallback:
  #   - tcp://1.1.1.1
  #   - 'tcp://1.1.1.1#ProxyGroupName' # æŒ‡å®š DNS è¿‡ä»£ç†æŸ¥è¯¢ï¼ŒProxyGroupName ä¸ºç­–ç•¥ç»„åæˆ–èŠ‚ç‚¹åï¼Œè¿‡ä»£ç†é…ç½®ä¼˜å…ˆäºé…ç½®å‡ºå£ç½‘å¡ï¼Œå½“æ‰¾ä¸åˆ°ç­–ç•¥ç»„æˆ–èŠ‚ç‚¹ååˆ™è®¾ç½®ä¸ºå‡ºå£ç½‘å¡

  # ä¸“ç”¨äºèŠ‚ç‚¹åŸŸåè§£æçš„ DNS æœåŠ¡å™¨ï¼Œéå¿…è¦é…ç½®é¡¹ï¼Œå¦‚æœä¸å¡«åˆ™éµå¾ªnameserver-policyã€nameserverå’Œfallbackçš„é…ç½®
  proxy-server-nameserver:
    - system # ä½¿ç”¨ç³»ç»Ÿ DNS é…ç½®
  #   - https://dns.google/dns-query
  #   - tls://one.one.one.one

  # ä¸“ç”¨äºdirectå‡ºå£åŸŸåè§£æçš„ DNS æœåŠ¡å™¨ï¼Œéå¿…è¦é…ç½®é¡¹ï¼Œå¦‚æœä¸å¡«åˆ™éµå¾ªnameserver-policyã€nameserverå’Œfallbackçš„é…ç½®
  # direct-nameserver:
  #   - system://
  # direct-nameserver-follow-policy: false # æ˜¯å¦éµå¾ªnameserver-policyï¼Œé»˜è®¤ä¸ºä¸éµå®ˆï¼Œä»…å½“direct-nameserverä¸ä¸ºç©ºæ—¶ç”Ÿæ•ˆ

  # é…ç½® fallback ä½¿ç”¨æ¡ä»¶
  # fallback-filter:
  #   geoip: true # é…ç½®æ˜¯å¦ä½¿ç”¨ geoip
  #   geoip-code: CN # å½“ nameserver åŸŸåçš„ IP æŸ¥è¯¢ geoip åº“ä¸º CN æ—¶ï¼Œä¸ä½¿ç”¨ fallback ä¸­çš„ DNS æŸ¥è¯¢ç»“æœ
  #   é…ç½®å¼ºåˆ¶ fallbackï¼Œä¼˜å…ˆäº IP åˆ¤æ–­ï¼Œå…·ä½“åˆ†ç±»è‡ªè¡ŒæŸ¥çœ‹ geosite åº“
  #   geosite:
  #     - gfw
  #   å¦‚æœä¸åŒ¹é… ipcidr åˆ™ä½¿ç”¨ nameservers ä¸­çš„ç»“æœ
  #   ipcidr:
  #     - 240.0.0.0/4
  #   domain:
  #     - '+.google.com'
  #     - '+.facebook.com'
  #     - '+.youtube.com'

  # é…ç½®æŸ¥è¯¢åŸŸåä½¿ç”¨çš„ DNS æœåŠ¡å™¨
  #nameserver-policy:
    #   'www.baidu.com': '114.114.114.114'
    #   '+.internal.crop.com': '10.0.0.1'
  #  "geosite:cn,private,apple":
  #    - https://doh.pub/dns-query
  #    - https://dns.alidns.com/dns-query
  #  "geosite:category-ads-all": rcode://success
  #  "www.baidu.com,+.google.cn": [223.5.5.5, https://dns.alidns.com/dns-query]
    ## globalï¼Œdns ä¸º rule-providers ä¸­çš„åä¸º global å’Œ dns è§„åˆ™è®¢é˜…ï¼Œ
    ## ä¸” behavior å¿…é¡»ä¸º domain/classicalï¼Œå½“ä¸º classical æ—¶ä»…ä¼šç”Ÿæ•ˆåŸŸåç±»è§„åˆ™
    # "rule-set:global,dns": 8.8.8.8



#è‡ªå®šä¹‰ geodata url
geox-url:
  geoip: "https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geoip.dat"
  geosite: "https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geosite.dat"
  mmdb: "https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geoip.metadb"

geo-auto-update: false # æ˜¯å¦è‡ªåŠ¨æ›´æ–° geodata
geo-update-interval: 32 # æ›´æ–°é—´éš”ï¼Œå•ä½ï¼šå°æ—¶

# Matcher implementation used by GeoSite, available implementations:
# - succinct (default, same as rule-set)
# - mph (from V2Ray, also `hybrid` in Xray)
# geosite-matcher: succinct

#proxy-groupsé”šç‚¹
proxy-groups-selector: &g-selector {type: select, proxies: [ğŸ”€ Selector, â™»ï¸ Auto, ğŸ‡­ğŸ‡° HongKongğŸ”„, ğŸ‡¸ğŸ‡¬ SingaporeğŸ”„, ğŸ‡¹ğŸ‡¼ TaiwanğŸ”„, ğŸ‡¯ğŸ‡µ JapanğŸ”„, ğŸ‡ºğŸ‡¸ USAğŸ”„, ğŸ‡­ğŸ‡° HongKong, ğŸ‡¸ğŸ‡¬ Singapore, ğŸ‡¹ğŸ‡¼ Taiwan, ğŸ‡¯ğŸ‡µ Japan, ğŸ‡ºğŸ‡¸ USA, ğŸ‡°ğŸ‡· Korea, ğŸ‡²ğŸ‡¾ Malaysia, ğŸ‡µğŸ‡­ Philippines, ğŸ‡¦ğŸ‡º Australia, DIRECT]}
proxy-groups-option: &g-option {type: select, proxies: [ğŸš€ Option, ğŸ”€ Selector, â™»ï¸ Auto, ğŸ‡­ğŸ‡° HongKong, ğŸ‡¸ğŸ‡¬ Singapore, ğŸ‡ºğŸ‡¸ USA, DIRECT]}
proxy-groups-url-test: &g-url-test {type: url-test, include-all: true,tolerance: 20, interval: 300, url: 'https://www.gstatic.com/generate_204'}
proxy-groups-load-balance: &g-load-balance {type: load-balance, include-all: true, tolerance: 20, interval: 300, url: 'https://www.gstatic.com/generate_204', lazy: true, strategy: consistent-hashing}

proxy-groups:
  - {name: ğŸš€ Option, <<: *g-selector }
  - {name: ğŸ”€ Selector, type: select, include-all: true }
  - {name: â™»ï¸ Auto, <<: *g-url-test }

  - {name: ğŸ¤– Ai, type: select, proxies: [ğŸ‡¸ğŸ‡¬ SingaporeğŸ”„, ğŸ‡¹ğŸ‡¼ TaiwanğŸ”„, ğŸ‡¯ğŸ‡µ JapanğŸ”„, ğŸ‡ºğŸ‡¸ USAğŸ”„ ] }
  - {name: ğŸ³ Docker, <<: *g-option }
  - {name: ğŸ® Game, <<: *g-option }
  - {name: ğŸ’¶ PayPal, <<: *g-option }
  - {name: â˜ï¸ OneDrive, <<: *g-option }
  - {name: ğŸªŸ Microsoft, <<: *g-option }
  - {name: ğŸ Apple, <<: *g-option }
  - {name: ğŸµ TikTok, <<: *g-option }
  - {name: ğŸ¥ NETFLIX, type: select, proxies: [ğŸ¥ Netflix] }
  - {name: âš¡ï¸ Speedtest, <<: *g-option }
  - {name: ğŸ”’ Great Firewall, <<: *g-option }
  - {name: ğŸŒ Geolocation-!cn, <<: *g-option }
  - {name: ğŸ‘¤ CoolMe_Direct, <<: *g-option }
  - {name: ğŸ‘¤ CoolMe_Proxy, <<: *g-option }

  - {name: ğŸ‡­ğŸ‡° HongKong, <<: *g-url-test, filter: "(?i)(?=.*(æ¸¯|hk|hong))^((?!(å°|æ—¥|éŸ©|æ–°|æ·±|ç¾|ipcl|game|hw)).)*$"}
  - {name: ğŸ‡­ğŸ‡° HongKongğŸ”„, <<: *g-load-balance, filter: "(?i)(?=.*(æ¸¯|hk|hong))^((?!(å°|æ—¥|éŸ©|æ–°|æ·±|ç¾|ipcl|game|hw)).)*$"}
  - {name: ğŸ‡¸ğŸ‡¬ Singapore, <<: *g-url-test, filter: "(?i)(?=.*(æ–°åŠ å¡|sg|singapore))^((?!(æ¸¯|å°|æ—¥|éŸ©|æ·±|ç¾|ipcl|game|hw)).)*$"}
  - {name: ğŸ‡¸ğŸ‡¬ SingaporeğŸ”„, <<: *g-load-balance, filter: "(?i)(?=.*(æ–°åŠ å¡|sg|singapore))^((?!(æ¸¯|å°|æ—¥|éŸ©|æ·±|ç¾|ipcl|game|hw)).)*$"}
  - {name: ğŸ‡¹ğŸ‡¼ Taiwan, <<: *g-url-test, filter: "(?i)(?=.*(å°æ¹¾|tw|taiwan))^((?!(æ¸¯|æ–°åŠ å¡|éŸ©|æ·±|ç¾|ipcl|game|hw)).)*$"}
  - {name: ğŸ‡¹ğŸ‡¼ TaiwanğŸ”„, <<: *g-load-balance, filter: "(?i)(?=.*(å°æ¹¾|tw|taiwan))^((?!(æ¸¯|æ–°åŠ å¡|éŸ©|æ·±|ç¾|ipcl|game|hw)).)*$"}
  - {name: ğŸ‡¯ğŸ‡µ Japan, <<: *g-url-test, filter: "(?i)(?=.*(æ—¥æœ¬|jp|japan))^((?!(æ¸¯|æ–°åŠ å¡|å°|éŸ©|æ·±|ç¾|ipcl|game|hw)).)*$"}
  - {name: ğŸ‡¯ğŸ‡µ JapanğŸ”„, <<: *g-load-balance, filter: "(?i)(?=.*(æ—¥æœ¬|jp|japan))^((?!(æ¸¯|æ–°åŠ å¡|å°|éŸ©|æ·±|ç¾|ipcl|game|hw)).)*$"}
  - {name: ğŸ‡ºğŸ‡¸ USA, <<: *g-url-test, filter: "(?i)(?=.*(ç¾|us|usa))^((?!(æ¸¯|æ–°åŠ å¡|å°|éŸ©|æ—¥|æ·±|ipcl|game|hw)).)*$"}
  - {name: ğŸ‡ºğŸ‡¸ USAğŸ”„, <<: *g-load-balance, filter: "(?i)(?=.*(ç¾|us|usa))^((?!(æ¸¯|æ–°åŠ å¡|å°|éŸ©|æ—¥|æ·±|ipcl|game|hw)).)*$"}
  - {name: ğŸ‡°ğŸ‡· Korea, <<: *g-url-test, filter: "(?i)(?=.*(éŸ©|kr|korea))^((?!(æ¸¯|æ–°åŠ å¡|å°|æ·±|ç¾|ipcl|game|hw)).)*$"}
  - {name: ğŸ‡²ğŸ‡¾ Malaysia, <<: *g-url-test, filter: "(?i)(?=.*(é©¬|my|malaysia))^((?!(æ¸¯|æ–°åŠ å¡|å°|éŸ©|æ—¥|æ·±|ç¾|ipcl|game|hw)).)*$"}
  - {name: ğŸ‡µğŸ‡­ Philippines, <<: *g-url-test, filter: "(?i)(?=.*(è²|ph|philippines))^((?!(æ¸¯|æ–°åŠ å¡|å°|éŸ©|æ—¥|æ·±|ç¾|ipcl|game|hw)).)*$"}
  - {name: ğŸ‡¦ğŸ‡º Australia, <<: *g-url-test, filter: "(?i)(?=.*(æ¾³|au|australia))^((?!(æ¸¯|æ–°åŠ å¡|å°|éŸ©|æ—¥|æ·±|ç¾|ipcl|game|hw)).)*$"}
  - {name: ğŸ¥ Netflix, <<: *g-url-test, filter: "(NF|Netflix|è§£é”|(?i)Netflix|Media)"}

  - {name: ğŸ”— Direct, type: select, proxies: [DIRECT, ğŸš€ Option]}
  - {name: ğŸ§Š Lost, type: select, proxies: [DIRECT, ğŸš€ Option]}

  #è´Ÿè½½å‡è¡¡è§„åˆ™
  - name: "ğŸ”„ load-balance"
    type: load-balance
    include-all: true
    url: 'https://www.gstatic.com/generate_204'
    interval: 300
    lazy: true
    strategy: consistent-hashing # or round-robin


rules:
  - RULE-SET, CoolMe_Direct, ğŸ‘¤ CoolMe_Direct
  - RULE-SET, CoolMe_Proxy, ğŸ‘¤ CoolMe_Proxy
  - RULE-SET, Private_IP, ğŸ”— Direct, no-resolve
  - RULE-SET, Private_Domain, ğŸ”— Direct
  - RULE-SET, Ai, ğŸ¤– Ai
  - RULE-SET, Docker_Domain, ğŸ³ Docker
  - RULE-SET, YouTube_Domain, ğŸš€ Option
  - RULE-SET, Steam@cn_Domain, ğŸ”— Direct
  - RULE-SET, Steam_Domain, ğŸ® Game
  - RULE-SET, GitHub_Domain, ğŸš€ Option
  - RULE-SET, Telegram_IP, ğŸš€ Option, no-resolve
  - RULE-SET, Telegram_Domain, ğŸš€ Option
  - RULE-SET, PayPal_Domain, ğŸ’¶ PayPal
  - RULE-SET, OneDrive_Domain, â˜ï¸ OneDrive
  - RULE-SET, Microsoft_Domain,ğŸªŸ Microsoft
  - RULE-SET, Apple@cn_Domain, ğŸ”— Direct
  - RULE-SET, Apple_Domain, ğŸ Apple
  - RULE-SET, Apple_IP, ğŸ Apple, no-resolve
  - RULE-SET, TikTok_Domain, ğŸµ TikTok
  - RULE-SET, Speedtest_Domain, âš¡ï¸ Speedtest
  - RULE-SET, Netflix_IP, ğŸ¥ NETFLIX, no-resolve
  - RULE-SET, Netflix_Domain, ğŸ¥ NETFLIX
  - RULE-SET, Google_ip, ğŸš€ Option, no-resolve
  - RULE-SET, Google_Domain, ğŸš€ Option
  #- RULE-SET, China_IP, ğŸ”— Direct, no-resolve
  #- RULE-SET, Chian_Domain, ğŸ”— Direct
  - RULE-SET, Geolocation-!cn, ğŸŒ Geolocation-!cn
  - RULE-SET, GFW_Domain, ğŸ”’ Great Firewall
  - GEOIP, cn, ğŸ”— Direct, no-resolve
  - GEOIP, lan, ğŸ”— Direct, no-resolve
  - GEOSITE, cn, ğŸ”— Direct
  - MATCH, ğŸ§Š Lost

#rule-providersé”šç‚¹
rule-providers-coolme: &p-coolme {type: http, interval: 2520, behavior: classical, format: text}
rule-providers-ip: &p-ip {type: http, interval: 25200, behavior: ipcidr, format: mrs}
rule-providers-domain: &p-domain {type: http, interval: 25200, behavior: domain, format: mrs}
class: &class {type: http, interval: 25200, behavior: classical, format: text}

rule-providers:
  Ai: { <<: *p-domain, url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/category-ai-chat-!cn.mrs" }
  #CoolMeWeng
  CoolMe_Direct: { <<: *p-coolme, url: "https://raw.githubusercontent.com/weng5040/inyo.cc/refs/heads/main/mihome/Direct_rule.list" }
  CoolMe_Proxy: { <<: *p-coolme, url: "https://raw.githubusercontent.com/weng5040/inyo.cc/refs/heads/main/mihome/Proxy_rule.list" }
  #ç§æœ‰IP&åŸŸå
  Private_IP: { <<: *p-ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/private.mrs" }
  Private_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/private.mrs" }
  #YouTubeåŸŸå
  YouTube_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/youtube.mrs" }
  #Steam@cnåŸŸå&SteamåŸŸå
  Steam@cn_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/steam@cn.mrs" }
  Steam_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/steam.mrs" }
  #GitHubåŸŸå
  GitHub_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/github.mrs" }
  #TelegramIP&åŸŸå
  Telegram_IP: { <<: *p-ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/telegram.mrs" }
  Telegram_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/telegram.mrs" }
  #PayPalåŸŸå
  PayPal_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/paypal.mrs" }
  #OneDriveåŸŸå
  OneDrive_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/onedrive.mrs" }
  #MicrosoftåŸŸå
  Microsoft_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/microsoft.mrs" }
  #Apple@cnåŸŸå
  Apple@cn_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/apple-cn.mrs" }
  Apple_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/apple.mrs" }
  Apple_IP: { <<: *p-ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo-lite/geoip/apple.mrs" }
  #SpeedteståŸŸå
  Speedtest_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/ookla-speedtest.mrs" }
  #TikTokåŸŸå
  TikTok_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/tiktok.mrs" }
  #(Great Firewall,GFW)é˜²ç«é•¿åŸ
  GFW_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/gfw.mrs" }
  #Geolocation!CN
  Geolocation-!cn: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/geolocation-!cn.mrs" }
  #ChianIP&ChinaåŸŸå
  China_IP: { <<: *p-ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/cn.mrs" }
  Chian_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/cn.mrs" }
  #NetflixIP&åŸŸå
  Netflix_IP: { <<: *p-ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/netflix.mrs" }
  Netflix_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/netflix.mrs" }
  #GoogleIP&åŸŸå
  Google_ip: { <<: *p-ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/google.mrs" }
  Google_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/google.mrs" }
  #DockeråŸŸå
  Docker_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/docker.mrs" }

# https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/youtube.mrs
# https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/netflix.mrs
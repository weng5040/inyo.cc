proxies:
# vless://0e5d92c1-4402-4b6f-8652-744e6d6fec81@s.inyo.cc:35339?encryption=none&security=tls&fp=chrome&type=tcp&host=s.inyo.cc&headerType=none&sni=s.inyo.cc&flow=xtls-rprx-vision#0e5d92c1-VLESS_TCP/TLS_Vision
  - name: "ali-Singapore"   # è‡ªå®šä¹‰åç§°ï¼Œå¯ä»¥ä»»æ„å‘½å
    type: vless                  # è¿æ¥ç±»å‹ä¸º vless
    server: s.inyo.cc            # æœåŠ¡å™¨åœ°å€ï¼Œæ¥è‡ªé“¾æ¥ä¸­çš„ host å­—æ®µ
    port: 35339                  # æœåŠ¡å™¨ç«¯å£ï¼Œä»é“¾æ¥ä¸­æå–
    uuid: 0e5d92c1-4402-4b6f-8652-744e6d6fec81  # ç”¨æˆ·å”¯ä¸€æ ‡è¯†ç¬¦ (UUID) ï¼Œé“¾æ¥ä¸­æŒ‡å®š
    network: tcp               # ä½¿ç”¨ TCP ä¼ è¾“åè®®ï¼ˆæ ¹æ®é“¾æ¥ä¸­çš„ type=tcpï¼‰
    tls: true                  # å¯ç”¨ TLS å®‰å…¨ä¼ è¾“ï¼ˆå¯¹åº”é“¾æ¥ä¸­çš„ security=tlsï¼‰
    udp: true                  # å¯ç”¨ UDP æ”¯æŒï¼ˆvless-vision æ¨¡å¼ä¸‹é€šå¸¸å¯ç”¨ï¼Œå¦‚æœ‰éœ€è¦å¯è°ƒæ•´ï¼‰
    flow: xtls-rprx-vision     # XTLS æµæ§æ¨¡å¼ï¼Œé‡‡ç”¨ xtls-rprx-visionï¼ˆæ¥è‡ªé“¾æ¥ä¸­çš„ flow å‚æ•°ï¼‰
    client-fingerprint: chrome # æ¨¡æ‹Ÿå®¢æˆ·ç«¯æŒ‡çº¹ï¼Œè®¾ç½®ä¸º chromeï¼ˆé“¾æ¥ä¸­çš„ fp=chromeï¼‰
    servername: s.inyo.cc       # TLS SNIï¼ˆæœåŠ¡å™¨åç§°æŒ‡ç¤ºï¼‰ï¼Œä¸ sni å‚æ•°ä¸€è‡´

#å…¨å±€é…ç½®
log-level: info  # æ—¥å¿—ç­‰çº§ silent/error/warning/info/debug
mode: rule # é»˜è®¤æ¨¡å¼ï¼Œè§„åˆ™æ¨¡å¼
find-process-mode: off #always, å¼€å¯ï¼Œå¼ºåˆ¶åŒ¹é…æ‰€æœ‰è¿›ç¨‹/strict, é»˜è®¤ï¼Œç”± mihomo åˆ¤æ–­æ˜¯å¦å¼€å¯/off, ä¸åŒ¹é…è¿›ç¨‹ï¼Œæ¨èåœ¨è·¯ç”±å™¨ä¸Šä½¿ç”¨æ­¤æ¨¡å¼
#interface-name: en0 # è®¾ç½®å‡ºå£ç½‘å¡
ipv6: false # å¼€å¯ IPv6 æ€»å¼€å…³ï¼Œå…³é—­é˜»æ–­æ‰€æœ‰ IPv6 é“¾æ¥å’Œå±è”½ DNS è¯·æ±‚ AAAA è®°å½•
unified-delay: true  # å¯ç”¨ç»Ÿä¸€å»¶è¿Ÿï¼Œä¼˜åŒ–ä¸åŒåè®®é—´çš„å»¶è¿Ÿå¤„ç†
tcp-concurrent: true # TCP å¹¶å‘è¿æ¥æ‰€æœ‰ IP, å°†ä½¿ç”¨æœ€å¿«æ¡æ‰‹çš„ TCP

#  TCP keep alive interval
disable-keep-alive: false # æ˜¯å¦å…³é—­é•¿è¿æ¥
keep-alive-idle: 600 # TCP é“¾æ¥çš„ç©ºé—²æ—¶é—´ï¼Œå•ä½ï¼šç§’
keep-alive-interval: 15 # TCP é“¾æ¥çš„æ¢æ´»é—´éš”æ—¶é—´ï¼Œå•ä½ï¼šç§’

#å¤–éƒ¨æ§åˆ¶é…ç½®
external-controller: 0.0.0.0:9090
secret: ""
external-ui: "/etc/mihomo/run/ui"
external-ui-name: zashboard
external-ui-url: "https://github.inyo.cc/https://github.com/Zephyruso/zashboard/archive/refs/heads/gh-pages.zip"



# å…¥ç«™é…ç½®
allow-lan: true   # å…è®¸å±€åŸŸç½‘è¿æ¥
bind-address: "*" # ç»‘å®š IP åœ°å€ï¼Œä»…ä½œç”¨äº allow-lan ä¸º trueï¼Œ'*'è¡¨ç¤ºæ‰€æœ‰åœ°å€
port: 7890        # HTTP(S) ä»£ç†æœåŠ¡å™¨ç«¯å£
socks-port: 7893  # SOCKS5 ä»£ç†ç«¯å£
mixed-port: 7894  # HTTP(S) å’Œ SOCKS ä»£ç†æ··åˆç«¯å£
redir-port: 7891  # é€æ˜ä»£ç†ç«¯å£ï¼Œç”¨äº Linux å’Œ MacOS
tproxy-port: 7892 # TPROXY ç«¯å£
#authentication:  # http,socks å…¥å£çš„éªŒè¯ç”¨æˆ·åï¼Œå¯†ç 
#  - "username:password"

profile:  # ç¼“å­˜
  store-selected: true  # ä¿å­˜é€‰ä¸­çš„èŠ‚ç‚¹
  store-fake-ip: true # fakeipç¼“å­˜
global-client-fingerprint: chrome  # è®¾ç½®å…¨å±€å®¢æˆ·ç«¯æŒ‡çº¹ä¸º Chromeï¼Œæ¨¡æ‹Ÿæµè§ˆå™¨èº«ä»½

# Tun é…ç½®
tun:
  enable: true
  stack: mixed # system/gvisor/mixed
  suto-route: true
  auto-redirect: true
  auto-detect-interface: true
  # ç»•è¿‡å†…æ ¸è·¯ç”±è¡¨
  #route-exclude-address-set:
  #  - "geoip:cn"

# å—…æ¢
sniffer:
  # æ˜¯å¦å¼€å¯å—…æ¢
  enable: true
  ## å¯¹ redir-host ç±»å‹è¯†åˆ«çš„æµé‡è¿›è¡Œå¼ºåˆ¶å—…æ¢
  ## å¦‚ï¼šTunã€Redir å’Œ TProxy å¹¶ DNS ä¸º redir-host çš†å±äº
  force-dns-mapping: true
  ## å¯¹æ‰€æœ‰æœªè·å–åˆ°åŸŸåçš„æµé‡è¿›è¡Œå¼ºåˆ¶å—…æ¢
  parse-pure-ip: true
  # æ˜¯å¦ä½¿ç”¨å—…æ¢ç»“æœä½œä¸ºå®é™…è®¿é—®ï¼Œé»˜è®¤ true
  # å…¨å±€é…ç½®ï¼Œä¼˜å…ˆçº§ä½äº sniffer.sniff å®é™…é…ç½®
  override-destination: true
  sniff:  # å®šä¹‰å—…æ¢çš„åè®®å’Œç«¯å£
    HTTP:  # HTTP æµé‡å—…æ¢é…ç½®
      ports: [80, 8080-8880]  # å—…æ¢è¿™äº›ç«¯å£ä¸Šçš„ HTTP æµé‡
      override-destination: true  # åœ¨å—…æ¢æ—¶è¦†ç›–ç›®æ ‡åœ°å€è¿›è¡Œå¤„ç†
    TLS:  # TLS æµé‡å—…æ¢é…ç½®
      ports: [443, 8443]  # å—…æ¢è¿™äº›ç«¯å£ä¸Šçš„ TLS æµé‡
    QUIC:  # QUIC æµé‡å—…æ¢é…ç½®
      ports: [443, 8443]  # å—…æ¢è¿™äº›ç«¯å£ä¸Šçš„ QUIC æµé‡
  skip-domain:  # åˆ—å‡ºä¸è¿›è¡Œå—…æ¢çš„åŸŸå
    - "rule-set:Chian_Domain"
    - "Mijia Cloud"  # ä¸å—…æ¢è¯¥åŸŸåçš„æµé‡
    - "dlg.io.mi.com"  # ä¸å—…æ¢è¯¥åŸŸåçš„æµé‡
    - "+.push.apple.com"  # ä¸å—…æ¢ä»¥ .push.apple.com ç»“å°¾çš„æµé‡
    - "+.apple.com"  # ä¸å—…æ¢ä»¥ .apple.com ç»“å°¾çš„æµé‡

# DNS é…ç½®
dns:
  enable: true # å…³é—­å°†ä½¿ç”¨ç³»ç»Ÿ DNS
  listen: 0.0.0.0:1053 # å¼€å¯ DNS æœåŠ¡å™¨ç›‘å¬
  prefer-h3: true # æ˜¯å¦å¼€å¯ DoH æ”¯æŒ HTTP/3ï¼Œå°†å¹¶å‘å°è¯•
  ipv6: false # false å°†è¿”å› AAAA çš„ç©ºç»“æœ
  enhanced-mode: fake-ip # or redir-host
  fake-ip-range: 10.7.0.1/16 # fake-ip æ± è®¾ç½®
  fake-ip-filter-mode: blacklist # é…ç½®fake-ip-filterçš„åŒ¹é…æ¨¡å¼ï¼Œé»˜è®¤ä¸ºblacklist/whitelist
  respect-rules: true # false/true  éµå®ˆrulesè§„åˆ™
  # é…ç½®ä¸ä½¿ç”¨ fake-ip çš„åŸŸå
  fake-ip-filter:
    - '+.cn'
    - '+.com.cn'
    - 'rule-set:Private_Domain'
    - 'rule-set:Chian_Domain'
    - '*.lan'
    - 'time.*.com'
    - 'ntp.*.com'
    - '*.localdomain'
    - '*.example'
    - '*.invalid'
    - '*.localhost'
    - '*.test'
    - '*.local'
    - '+.inyo.cc'
    - '+.xn--ngstr-lra8j.com'
  default-nameserver:
    - system  # ä½¿ç”¨ç³»ç»Ÿ DNS é…ç½®
  direct-nameserver-follow-policy: false
  direct-nameserver:
    - system  # ä½¿ç”¨ç³»ç»Ÿ DNS é…ç½®
  nameserver:
    - system  # ä½¿ç”¨ç³»ç»Ÿ DNS é…ç½®
  proxy-server-nameserver:
    - system  # ä½¿ç”¨ç³»ç»Ÿ DNS é…ç½®

#æ•°æ®åº“é…ç½®
geodata-loader: standard # æ•°æ®åº“åŠ è½½æ¨¡å¼ï¼Œå¯é€‰å€¼ï¼šmemconservative/standard
geodata-mode: false # false:mmdb/true:geoip
geo-auto-update: false # æ˜¯å¦è‡ªåŠ¨æ›´æ–° geodata
geo-update-interval: 32 # æ›´æ–°é—´éš”ï¼Œå•ä½ï¼šå°æ—¶
geox-url:
  geoip: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geoip.dat"
  geosite: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geosite.dat"
  mmdb: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/country.mmdb"
  asn: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/GeoLite2-ASN.mmdb"



# Matcher implementation used by GeoSite, available implementations:
# - succinct (default, same as rule-set)
# - mph (from V2Ray, also `hybrid` in Xray)
# geosite-matcher: succinct

#proxy-groupsé”šç‚¹
proxy-groups-selector: &g-selector {type: select, include-all: true, proxies: [DIRECT]}
proxy-groups-option: &g-option {type: select, proxies: [ğŸš€ Option, ğŸ”€ Selector, â™»ï¸ Auto, DIRECT]}
proxy-groups-direct: &g-direct {type: select, proxies: [DIRECT, ğŸš€ Option, ğŸ”€ Selector, â™»ï¸ Auto]}
proxy-groups-url-test: &g-url-test {type: url-test, include-all: true,tolerance: 20, interval: 300, url: 'https://www.gstatic.com/generate_204'}
proxy-groups-load-balance: &g-load-balance {type: load-balance, include-all: true, tolerance: 20, interval: 300, url: 'https://www.gstatic.com/generate_204', lazy: true, strategy: consistent-hashing}

proxy-groups:
  - {name: Select, type: select, include-all: true, proxies: [DIRECT] }

rules:
  - RULE-SET, CoolMe_Direct, DIRECT
  - RULE-SET, CoolMe_Proxy, Select
  - RULE-SET, Private_IP, DIRECT, no-resolve
  - RULE-SET, Private_Domain, DIRECT
  - RULE-SET, Ai_Domain, Select
  - RULE-SET, Docker_Domain, Select
  - RULE-SET, YouTube_Domain, Select
  - RULE-SET, Steam@cn_Domain, Select
  - RULE-SET, Steam_Domain, Select
  - RULE-SET, GitHub_Domain, Select
  - RULE-SET, Telegram_IP, Select, no-resolve
  - RULE-SET, Telegram_Domain, Select
  - RULE-SET, PayPal_Domain, Select
  - RULE-SET, OneDrive_Domain, Select
  - RULE-SET, Microsoft@cn_Domain, Select
  - RULE-SET, Microsoft_Domain, Select
  - RULE-SET, Apple@cn_Domain, Select
  - RULE-SET, Apple_Domain, Select
  - RULE-SET, Apple_IP, Select, no-resolve
  - RULE-SET, TikTok_Domain, Select
  - RULE-SET, Speedtest_Domain, Select
  - RULE-SET, Netflix_IP, Select, no-resolve
  - RULE-SET, Netflix_Domain, Select
  - RULE-SET, Googlefcm_Domain, Select
  - RULE-SET, Google@cn_Domain, Select
  - RULE-SET, Google_IP, Select, no-resolve
  - RULE-SET, Google_Domain, Select
  - RULE-SET, Chian_Domain, DIRECT
  - RULE-SET, GFW_Domain, Select
  - RULE-SET, Geolocation-!cn, Select
  - RULE-SET, China_IP, DIRECT
  - GEOIP, cn, DIRECT
  - GEOIP, lan, DIRECT
  - GEOSITE, cn, DIRECT
  - MATCH, Select

#rule-providersé”šç‚¹
rule-providers-coolme: &p-coolme {type: http, interval: 2520, behavior: classical, format: text}
rule-providers-ip: &p-ip {type: http, interval: 25200, behavior: ipcidr, format: mrs}
rule-providers-domain: &p-domain {type: http, interval: 25200, behavior: domain, format: mrs}
class: &class {type: http, interval: 25200, behavior: classical, format: text}

rule-providers:
  Ai_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/category-ai-chat-!cn.mrs" }
  #CoolMeWeng
  CoolMe_Direct: { <<: *p-coolme, url: "https://raw.githubusercontent.com/weng5040/inyo.cc/refs/heads/main/mihome/Direct_rule.list" }
  CoolMe_Proxy: { <<: *p-coolme, url: "https://raw.githubusercontent.com/weng5040/inyo.cc/refs/heads/main/mihome/Proxy_rule.list" }
  #ç§æœ‰IP&åŸŸå
  Private_IP: { <<: *p-ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/private.mrs" }
  Private_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/private.mrs" }
  #YouTubeåŸŸå
  YouTube_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/youtube.mrs" }
  #Steam@cnåŸŸå&SteamåŸŸå
  Steam@cn_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/steam@cn.mrs" }
  Steam_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/steam.mrs" }
  #GitHubåŸŸå
  GitHub_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/github.mrs" }
  #TelegramIP&åŸŸå
  Telegram_IP: { <<: *p-ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/telegram.mrs" }
  Telegram_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/telegram.mrs" }
  #PayPalåŸŸå
  PayPal_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/paypal.mrs" }
  #OneDriveåŸŸå
  OneDrive_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/onedrive.mrs" }
  #MicrosoftåŸŸå
  Microsoft_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/microsoft.mrs" }
  Microsoft@cn_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/microsoft@cn.mrs" }
  #Apple@cnåŸŸå
  Apple@cn_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/apple@cn.mrs" }
  Apple_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/apple.mrs" }
  Apple_IP: { <<: *p-ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo-lite/geoip/apple.mrs" }
  #SpeedteståŸŸå
  Speedtest_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/ookla-speedtest.mrs" }
  #TikTokåŸŸå
  TikTok_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/tiktok.mrs" }
  #(Great Firewall,GFW)é˜²ç«é•¿åŸ
  GFW_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/gfw.mrs" }
  #Geolocation!CN
  Geolocation-!cn: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/geolocation-!cn.mrs" }
  #ChianIP&ChinaåŸŸå
  China_IP: { <<: *p-ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/cn.mrs" }
  Chian_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/cn.mrs" }
  #NetflixIP&åŸŸå
  Netflix_IP: { <<: *p-ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/netflix.mrs" }
  Netflix_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/netflix.mrs" }
  #GoogleIP&åŸŸå
  Google_IP: { <<: *p-ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/google.mrs" }
  Google_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/google.mrs" }
  Googlefcm_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/googlefcm.mrs" }
  Google@cn_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/google@cn.mrs" }

  #DockeråŸŸå
  Docker_Domain: { <<: *p-domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/docker.mrs" }

# https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/youtube.mrs
# https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/netflix.mrs